<div [class]="wrapperClass">
  <label [class]="labelClass" [for]="_field + '_' + random" *ngIf="showLabel">
    {{ _label }}:
    <span *ngIf="_isRequired"> *</span>
  </label>

  <div [class]="inputBlockClass" [ngClass]="showLabel ? inputBlockExtraClass : ''">
    <div
      class="input-color-container"
      [style.background]="model[_field]"
      (click)="toggle = !toggle"
    ></div>

    <div class="input-group-prepend" *ngIf="_prepend !== ''">
      <div class="input-group-text">{{ _prepend }}</div>
    </div>

    <input
      [class.invalid]="model.validationErrors.includes(_field)"
      [class]="inputClass"
      [(ngModel)]="model[_field]"
      [id]="_field + '_' + random"
      [attr.name]="_field + '_' + random"
      [placeholder]="_placeholder"
      [title]="_title"
      [disabled]="disabled"
      [type]="type"
      [(colorPicker)]="model[_field]"
      [(cpToggle)]="toggle"
      cpPosition="bottom"
      cpOutputFormat="hex"
      cpAlphaChannel="disabled"
      cpFallbackColor="#c0c0c0"
      (keyup)="validateField()"
      #inputBox
    />

    <div class="input-group-append" *ngIf="_append !== ''">
      <div class="input-group-text">{{ _append }}</div>
    </div>
  </div>
</div>
